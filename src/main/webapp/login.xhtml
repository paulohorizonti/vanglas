<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<title>Login</title>
	<f:facet name="first">
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	</f:facet>

	<h:outputStylesheet library="primefaces" name="components.css" />
	<h:outputStylesheet library="ceipsystem" name="styles/custom.css" />
	<h:outputStylesheet library="ceipsystem" name="styles/layout.css" />
	<h:outputStylesheet library="ceipsystem" name="styles/components.css" />
	<!-- Bootstrap -->
	<h:outputStylesheet library="ceipsystem/bootstrap" name="css/bootstrap.min.css" />
	
	
	<h:outputScript target="body" library="primefaces" name="jquery/jquery.js"/><!-- Imporntando o Jquery a mao -->
	<h:outputScript target="body" library="ceipsystem" name="javascripts/app.js"/> <!-- Injeta no fim do body -->
	
	<!-- Js do bootstrap -->
	<h:outputScript target="body" library="ceipsystem/bootstrap" name="js/jquery-3.5.1.min.js"/> <!-- Injeta no fim do body -->
	<h:outputScript target="body" library="ceipsystem/bootstrap" name="js/popper.js"/> <!-- Injeta no fim do body -->
	<h:outputScript target="body" library="ceipsystem/bootstrap" name="js/bootstrap.min.js"/> <!-- Injeta no fim do body -->
	
</h:head> 

<h:body id="login_body"> 



 <div class="container" id="container-login">
 
       
           <div class="row d-flex mt-2" >
               <!--Serao 12 colunas para todos os dispositivos-->
               <div class="col-12 mx-auto text-center pr-topo-login2">
                <h:graphicImage  styleClass="img-fluid" library="ceipsystem" name="images/logo-grande2.png" />

               </div>
                
            </div>


            <div class="row d-flex pr-meio-login2 mt-5">
           
            
			
               <p:panel id="login_principal" header="Login" styleClass="col-lg-6 col-md-9 col-sm-12 mx-auto p-1 shadow-lg  mb-5 bg-white rounded ">
               
               
               <!-- form -->
               <form id="login" method="post" action="#{request.contextPath}/j_spring_security_check">
               
               	<div class="form-row">
    				<div class="input-group mb-3">
  						<div class="input-group-prepend">
    						<span class="input-group-text" id="inputGroup-sizing-default">Matricula</span>
 						 </div>
  						<input type='text' class="form-control"  name='j_username' placeholder="Somente números" onkeypress="return onlynumber();"/>
					</div>
    				
 				 </div>
 				 
 				 <div class="form-row">
 				    <div class="input-group mb-3">
  						<div class="input-group-prepend">
    						<span class="input-group-text" id="inputGroup-sizing-default">Senha</span>
 						 </div>
  						<input type='password' class="form-control" name='j_password'/>
					</div>
 				 </div>
 				 
 				 <div class="form-group form-check">
   					 <input type="checkbox" class="form-check-input" id="check_login"  name="_spring_security_remember"/>
    				<label class="form-check-label" for="check_login">Lembrar acesso</label>
  				</div>
  				
  				
 				 <div class="form-group">
 				 	<div class="input-group mb-3">
 				 		<input class="btn btn-primary" type="submit" value="Entrar"/>
 				 	</div>
 				 </div>
               
               
               
               
               </form>
              
               
               <h:panelGroup rendered="#{!empty param.login_error}">
					
					<div class="alert alert-danger" role="alert">
  						Erro ao efetuar login: #{SPRING_SECURITY_LAST_EXCEPTION.message}
					</div>
				</h:panelGroup>
				
               </p:panel>
               
               
               
            </div>
            
             <div class="row d-flex text-monospace mt-5" >
          		<div class="col-12">
          			<h5 class="text-center pr-fonte-pequena">Sistema de Controle de Internações - SysCEIP - V.01-2020</h5>
          		</div>
          	 </div>
          	 <div class="row d-flex text-monospace" >
          		<div class="col-12">
          			 <h5 class="text-center pr-fonte-pequena">Desenvolvido por: PAULO ROBERTO NOGUEIRA</h5>
          		</div>
          	</div>
          	<div class="row d-flex text-monospace" >
          <div class="col-12">
          			 <h5 class="text-center pr-fonte-pequena">(63)99206-2543 - https://horizontisistemas.com.br</h5>
          		</div>
          	</div>
             
                
               
               
              
           
 </div>
 
 <script  language='JavaScript'>
					document.getElementById("login").j_username.value = "#{SPRING_SECURITY_LAST_USERNAME}";


					function onlynumber(evt) {
						   var theEvent = evt || window.event;
						   var key = theEvent.keyCode || theEvent.which;
						   key = String.fromCharCode( key );
						   //var regex = /^[0-9.,]+$/;
						   var regex = /^[0-9.]+$/;
						   if( !regex.test(key) ) {
						      theEvent.returnValue = false;
						      if(theEvent.preventDefault) theEvent.preventDefault();
						   }
						}
					
				</script>


	
</h:body> 
</html>
